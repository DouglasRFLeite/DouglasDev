<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS | DouglasDev</title>
<meta name=keywords content="Java,Spring,Spring Boot,Spring Cloud Function,AWS,Cloud,Lambda"><meta name=description content="A tutorial on using multiple functions in a single AWS Lambda deployment with Spring Cloud Function"><meta name=author content="Me"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.eb010bce980c6450595d968d3d88ebc4a8b3750ec5bb5cbdef57d4f2f642da6f.css integrity="sha256-6wELzpgMZFBZXZaNPYjrxKizdQ7Fu1y971fU8vZC2m8=" rel="preload stylesheet" as=style><link rel=icon href=https://douglas-rocha-dev.vercel.app/images/code-icon.png><link rel=icon type=image/png sizes=16x16 href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://douglas-rocha-dev.vercel.app/projects/lambda-multi-function/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://douglas-rocha-dev.vercel.app/projects/lambda-multi-function/"><meta property="og:site_name" content="DouglasDev"><meta property="og:title" content="How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS"><meta property="og:description" content="A tutorial on using multiple functions in a single AWS Lambda deployment with Spring Cloud Function"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:published_time" content="2025-05-08T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-08T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Spring"><meta property="article:tag" content="Spring Boot"><meta property="article:tag" content="Spring Cloud Function"><meta property="article:tag" content="AWS"><meta property="article:tag" content="Cloud"><meta property="og:image" content="https://douglas-rocha-dev.vercel.app/images/cool-setup-003.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://douglas-rocha-dev.vercel.app/images/cool-setup-003.jpeg"><meta name=twitter:title content="How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS"><meta name=twitter:description content="A tutorial on using multiple functions in a single AWS Lambda deployment with Spring Cloud Function"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://douglas-rocha-dev.vercel.app/projects/"},{"@type":"ListItem","position":2,"name":"How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS","item":"https://douglas-rocha-dev.vercel.app/projects/lambda-multi-function/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS","name":"How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS","description":"A tutorial on using multiple functions in a single AWS Lambda deployment with Spring Cloud Function","keywords":["Java","Spring","Spring Boot","Spring Cloud Function","AWS","Cloud","Lambda"],"articleBody":"Struggling to deploy multiple serverless functions efficiently? In this tutorial, you’ll learn how to deploy multiple functions within a single AWS Lambda, simplifying management and reducing costs.\nHave you ever faced challenges deploying multiple functions in a way that’s easy, cost-effective, and efficient? In this tutorial, you’ll learn how to deploy a single Spring Cloud Function project to AWS with the capability to host multiple functions and endpoints.\nThis is Part 2 of a series of smaller tutorials I’m publishing, all related to the same project. I’ll go into more detail about the project specifics in a dedicated article later, but it will include AWS Lambda, AWS DynamoDB, and a React front-end, so stay tuned.\nThis tutorial aims to be concise, building on the content from Part 1, which covers the basics of creating, deploying, and testing a Spring Cloud Function project on AWS Lambda.\nThe main goal here is to show how you can host multiple functions within a single project and access them via Function URLs. It sounds simple, but it took some research to figure out the best approach.\nTo illustrate this, we’ll expand our hello function from the first article into a hello-bye function.\nWhat and Why… … AWS Lambda and Spring Cloud Function We’re not revisiting this topic here. For that, refer to Part 1.\n… Multiple Functions? There are several architectures for more complex serverless applications. A common approach is to separate each domain, or even each function, into a single project and deploy them as individual Lambdas (or other serverless functions from different providers). This aligns closely with a microservices mindset, and there’s nothing wrong with it.\nHowever, one challenge with this approach is the duplication of code, business logic, and, in our case, database connectivity code.\nWhat do you mean by “in our case”? This code doesn’t connect to any database…\nNot yet, little Kid Flash. But it will.\nAnd yes, even in these scenarios, it might be worth splitting your project into multiple services and deploying them as separate functions.\nSuppose you have 5 domains: A, B, C, D, and E, which communicate in pairs—meaning Function A needs some code from B, Function B needs code from C, and so on. You’d end up with 5 functions, each containing code for nearly two entire domains. While this may seem like a lot of duplication, it’s still far less than having a single function with code from all 5 domains. In that case, splitting makes sense.\nIn our situation, there are only 2 domains, 2 types of data, and a single database. Duplicating nearly 90% of the code just to separate entry points doesn’t make sense. So, multiple functions it is.\n… Function URLs? A Lambda Function URL is a dedicated, straightforward HTTPS endpoint for a specific Lambda function. It provides a simpler way to invoke your Lambda over HTTP without needing to set up an API Gateway.\nIs it better than API Gateway? If by “better” you mean more powerful and full-featured, then no. AWS API Gateway is a fully managed service that acts as a unified “front door” for all your backend services, including Lambda functions. It can do much more than just provide an endpoint.\nBut if you mean easier, simpler, and more suited to this specific case, then yes—Function URLs are a better fit.\nStep 1 - Creating and Deploying a Spring Cloud Function Project with Multiple Functions 1.1 - Part 1 Recap I won’t go into detail about creating a Spring Cloud Function project here, since that’s covered in Part 1. I’ll just show the code and modify the project name to cloud-hello-bye.\nHere’s what your project should look like if you followed along:\n@SpringBootApplication public class CloudHelloByeApplication { public static void main(String[] args) { SpringApplication.run(CloudHelloByeApplication.class, args); } @Bean public Function\u003cString, String\u003e helloFunction() { return (name) -\u003e \"Hello, \" + name; } } You should be able to run and test this locally via HTTP requests (using curl, Postman, etc.). You can even deploy it to AWS as a Lambda and verify it works. But that’s covered in Part 1, so let’s move forward.\n1.2 - Adding the Bye Function Now, let’s expand our project by adding another function directly in the same Application class (note: don’t do this in production code!).\n@SpringBootApplication public class CloudHelloByeApplication { public static void main(String[] args) { SpringApplication.run(CloudHelloByeApplication.class, args); } @Bean public Function\u003cString, String\u003e helloFunction() { return (name) -\u003e \"Hello, \" + name; } @Bean public Function\u003cString, String\u003e byeFunction() { return (name) -\u003e \"Bye bye, \" + name; } } Done! Now your project hosts two functions. You can test them by adjusting the URL:\ncurl -X POST -H \"Content-Type: text/plain\" -d \"Douglas\" http://localhost:8080/helloFunction # Output: Hello, Douglas curl -X POST -H \"Content-Type: text/plain\" -d \"Douglas\" http://localhost:8080/byeFunction # Output: Bye bye, Douglas 1.3 - Deploying to Lambda Refer to Part 1 for the deployment steps—they are exactly the same. Once deployed, test your functions there.\nIf you tried testing as in Part 1, you might have run into some issues. Let’s fix that.\nStep 2 - Creating, Exposing, and Testing via Function URLs 2.1 - Creating the Function URL First, we’ll create and expose Function URLs so we can test directly.\nGo to the Configuration tab, select Function URL, then click Create Function URL:\nFor this example, I will leave the URL openly accessible (not recommended for production, so I’ve removed it after publishing this article).\nOnce configured, your URL will appear in the Lambda console:\nTesting this URL directly won’t work immediately because both functions expect POST requests. So, let’s move on to testing with Postman or curl.\n2.2 - Testing You might think you can just hit that endpoint with the function name at the end, as we did locally, and it will work. Unfortunately, that’s not the case. We can, of course, achieve this via API Gateway, but in my opinion, that’s an unnecessary extra step.\nTo invoke different functions, we’ll specify the desired function via an HTTP header:\nspring.cloud.function.definition You can do this with curl or code, but I’ll show it using Postman. I will make a POST request, set the new URL, add “Douglas” to the body, and specify the header:\nConclusion And there you go!\nIf you weren’t familiar with this setup before, now you definitely are!\nJokes aside, this is a significant step forward in using Lambdas with Spring Cloud Function. It took me a couple of weeks to figure out the best way to do this properly, and I hadn’t found such an easy solution online until I did. Now, you don’t have to go through the same trial and error.\nIf you have questions or want to share your experience, feel free to reach out to me on LinkedIn. There, I share more insights on software development and productivity.\nReferences Spring Cloud Function Documentation\nThe official documentation for Spring Cloud Function.\nAWS Lambda Documentation\nThe official documentation for AWS Lambda.\nServerless Spring: Deploy serverless functions to any platform using Spring Cloud Function\nA YouTube tutorial that helped me get started with this setup\n","wordCount":"1181","inLanguage":"en","image":"https://douglas-rocha-dev.vercel.app/images/cool-setup-003.jpeg","datePublished":"2025-05-08T00:00:00Z","dateModified":"2025-05-08T00:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://douglas-rocha-dev.vercel.app/projects/lambda-multi-function/"},"publisher":{"@type":"Organization","name":"DouglasDev","logo":{"@type":"ImageObject","url":"https://douglas-rocha-dev.vercel.app/images/code-icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://douglas-rocha-dev.vercel.app/ accesskey=h title="Home (Alt + H)"><img src=https://douglas-rocha-dev.vercel.app/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://douglas-rocha-dev.vercel.app/about/ title=About><span>About</span></a></li><li><a href=https://douglas-rocha-dev.vercel.app/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://douglas-rocha-dev.vercel.app/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://douglas-rocha-dev.vercel.app/contact/ title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://douglas-rocha-dev.vercel.app/>Home</a>&nbsp;»&nbsp;<a href=https://douglas-rocha-dev.vercel.app/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">How to Deploy Multiple Serverless Lambda Functions with One Spring Cloud Function Project on AWS</h1><div class=post-description>A tutorial on using multiple functions in a single AWS Lambda deployment with Spring Cloud Function</div><div class=post-meta><span title='2025-05-08 00:00:00 +0000 UTC'>May 8, 2025</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1181 words&nbsp;·&nbsp;Me</div></header><figure class=entry-cover><img loading=eager src=https://douglas-rocha-dev.vercel.app/images/cool-setup-003.jpeg alt="Cool Setup"><p>Unfortunately not my setup</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#what-and-why>What and Why&mldr;</a></li><li><a href=#-aws-lambda-and-spring-cloud-function>&mldr; AWS Lambda and Spring Cloud Function</a></li><li><a href=#-multiple-functions>&mldr; Multiple Functions?</a></li><li><a href=#-function-urls>&mldr; Function URLs?</a></li></ul></li><li><a href=#step-1---creating-and-deploying-a-spring-cloud-function-project-with-multiple-functions>Step 1 - Creating and Deploying a Spring Cloud Function Project with Multiple Functions</a><ul><li><a href=#11---part-1-recap>1.1 - Part 1 Recap</a></li><li><a href=#12---adding-the-bye-function>1.2 - Adding the Bye Function</a></li><li><a href=#13---deploying-to-lambda>1.3 - Deploying to Lambda</a></li></ul></li><li><a href=#step-2---creating-exposing-and-testing-via-function-urls>Step 2 - Creating, Exposing, and Testing via Function URLs</a><ul><li><a href=#21---creating-the-function-url>2.1 - Creating the Function URL</a></li><li><a href=#22---testing>2.2 - Testing</a></li></ul></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#references>References</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>Struggling to deploy multiple serverless functions efficiently? In this tutorial, you&rsquo;ll learn how to deploy multiple functions within a single AWS Lambda, simplifying management and reducing costs.</p><p>Have you ever faced challenges deploying multiple functions in a way that&rsquo;s easy, cost-effective, and efficient? In this tutorial, you&rsquo;ll learn how to deploy a single Spring Cloud Function project to AWS with the capability to host multiple functions and endpoints.</p><p>This is <strong>Part 2</strong> of a series of smaller tutorials I’m publishing, all related to the same project. I’ll go into more detail about the project specifics in a dedicated article later, but it will include <strong>AWS Lambda, AWS DynamoDB, and a React front-end</strong>, so stay tuned.</p><p>This tutorial aims to be concise, building on the content from <a href=/projects/spring-aws-lambda><strong>Part 1</strong></a>, which covers the basics of creating, deploying, and testing a Spring Cloud Function project on AWS Lambda.</p><p>The main goal here is to show how you can host multiple functions within a single project and access them via <strong>Function URLs</strong>. It sounds simple, but it took some research to figure out the best approach.</p><p>To illustrate this, we’ll expand our hello function from the first article into a hello-bye function.</p><h3 id=what-and-why>What and Why&mldr;<a hidden class=anchor aria-hidden=true href=#what-and-why>#</a></h3><h3 id=-aws-lambda-and-spring-cloud-function>&mldr; AWS Lambda and Spring Cloud Function<a hidden class=anchor aria-hidden=true href=#-aws-lambda-and-spring-cloud-function>#</a></h3><p>We’re not revisiting this topic here. For that, refer to <a href=/projects/spring-aws-lambda><strong>Part 1</strong></a>.</p><h3 id=-multiple-functions>&mldr; Multiple Functions?<a hidden class=anchor aria-hidden=true href=#-multiple-functions>#</a></h3><p>There are several architectures for more complex serverless applications. A common approach is to separate each domain, or even each function, into a single project and deploy them as individual Lambdas (or other serverless functions from different providers). This aligns closely with a microservices mindset, and there’s nothing wrong with it.</p><p>However, one challenge with this approach is the duplication of code, business logic, and, in our case, database connectivity code.</p><p><em>What do you mean by &ldquo;in our case&rdquo;? This code doesn’t connect to any database&mldr;</em></p><p>Not yet, little Kid Flash. But it will.</p><p>And yes, even in these scenarios, it might be worth splitting your project into multiple services and deploying them as separate functions.</p><p>Suppose you have 5 domains: A, B, C, D, and E, which communicate in pairs—meaning Function A needs some code from B, Function B needs code from C, and so on. You’d end up with 5 functions, each containing code for nearly two entire domains. While this may seem like a lot of duplication, it’s still far less than having a single function with code from all 5 domains. In that case, splitting makes sense.</p><p>In our situation, there are only 2 domains, 2 types of data, and a single database. Duplicating nearly 90% of the code just to separate entry points doesn’t make sense. <strong>So, multiple functions it is.</strong></p><h3 id=-function-urls>&mldr; Function URLs?<a hidden class=anchor aria-hidden=true href=#-function-urls>#</a></h3><p>A Lambda Function URL is a dedicated, straightforward HTTPS endpoint for a specific Lambda function. It provides a simpler way to invoke your Lambda over HTTP without needing to set up an API Gateway.</p><p>Is it better than API Gateway? If by “better” you mean more powerful and full-featured, then no. AWS API Gateway is a fully managed service that acts as a unified &ldquo;front door&rdquo; for all your backend services, including Lambda functions. It can do much more than just provide an endpoint.</p><p>But if you mean <strong>easier, simpler, and more suited to this specific case</strong>, then yes—Function URLs are a better fit.</p><h2 id=step-1---creating-and-deploying-a-spring-cloud-function-project-with-multiple-functions>Step 1 - Creating and Deploying a Spring Cloud Function Project with Multiple Functions<a hidden class=anchor aria-hidden=true href=#step-1---creating-and-deploying-a-spring-cloud-function-project-with-multiple-functions>#</a></h2><h3 id=11---part-1-recap>1.1 - Part 1 Recap<a hidden class=anchor aria-hidden=true href=#11---part-1-recap>#</a></h3><p>I won’t go into detail about creating a Spring Cloud Function project here, since that’s covered in <a href=/projects/spring-aws-lambda><strong>Part 1</strong></a>. I’ll just show the code and modify the project name to <code>cloud-hello-bye</code>.</p><p>Here’s what your project should look like if you followed along:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@SpringBootApplication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>CloudHelloByeApplication</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SpringApplication</span><span class=p>.</span><span class=na>run</span><span class=p>(</span><span class=n>CloudHelloByeApplication</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Function</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>helloFunction</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=s>&#34;Hello, &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>You should be able to run and test this locally via HTTP requests (using curl, Postman, etc.). You can even deploy it to AWS as a Lambda and verify it works. But that’s covered in Part 1, so let’s move forward.</p><h3 id=12---adding-the-bye-function>1.2 - Adding the Bye Function<a hidden class=anchor aria-hidden=true href=#12---adding-the-bye-function>#</a></h3><p>Now, let’s expand our project by adding another function directly in the same Application class (note: don’t do this in production code!).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@SpringBootApplication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>CloudHelloByeApplication</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SpringApplication</span><span class=p>.</span><span class=na>run</span><span class=p>(</span><span class=n>CloudHelloByeApplication</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Function</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>helloFunction</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=s>&#34;Hello, &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Function</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>byeFunction</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=s>&#34;Bye bye, &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>Done! Now your project hosts two functions. You can test them by adjusting the URL:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST -H <span class=s2>&#34;Content-Type: text/plain&#34;</span> -d <span class=s2>&#34;Douglas&#34;</span> http://localhost:8080/helloFunction
</span></span><span class=line><span class=cl><span class=c1># Output: Hello, Douglas</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -X POST -H <span class=s2>&#34;Content-Type: text/plain&#34;</span> -d <span class=s2>&#34;Douglas&#34;</span> http://localhost:8080/byeFunction
</span></span><span class=line><span class=cl><span class=c1># Output: Bye bye, Douglas</span>
</span></span></code></pre></div><h3 id=13---deploying-to-lambda>1.3 - Deploying to Lambda<a hidden class=anchor aria-hidden=true href=#13---deploying-to-lambda>#</a></h3><p>Refer to <a href=/projects/spring-aws-lambda><strong>Part 1</strong></a> for the deployment steps—they are exactly the same. Once deployed, test your functions there.</p><p>If you tried testing as in Part 1, you might have run into some issues. Let’s fix that.</p><h2 id=step-2---creating-exposing-and-testing-via-function-urls>Step 2 - Creating, Exposing, and Testing via Function URLs<a hidden class=anchor aria-hidden=true href=#step-2---creating-exposing-and-testing-via-function-urls>#</a></h2><h3 id=21---creating-the-function-url>2.1 - Creating the Function URL<a hidden class=anchor aria-hidden=true href=#21---creating-the-function-url>#</a></h3><p>First, we’ll create and expose Function URLs so we can test directly.</p><p>Go to the <strong>Configuration</strong> tab, select <strong>Function URL</strong>, then click <strong>Create Function URL</strong>:</p><p><img alt="Function URL" loading=lazy src=/images/lambda-multi-function/function-url.png></p><p>For this example, I will leave the URL openly accessible (not recommended for production, so I’ve removed it after publishing this article).</p><p><img alt="Function Permissions" loading=lazy src=/images/lambda-multi-function/function-permissions.png></p><p>Once configured, your URL will appear in the Lambda console:</p><p><img alt="Function Endpoint" loading=lazy src=/images/lambda-multi-function/function-endpoint.png></p><p>Testing this URL directly won’t work immediately because both functions expect POST requests. So, let’s move on to testing with Postman or curl.</p><h3 id=22---testing>2.2 - Testing<a hidden class=anchor aria-hidden=true href=#22---testing>#</a></h3><p>You might think you can just hit that endpoint with the function name at the end, as we did locally, and it will work. Unfortunately, that’s not the case. We can, of course, achieve this via API Gateway, but in my opinion, that’s an unnecessary extra step.</p><p>To invoke different functions, we’ll specify the desired function via an <strong>HTTP header</strong>:</p><pre tabindex=0><code>spring.cloud.function.definition
</code></pre><p>You can do this with curl or code, but I’ll show it using Postman. I will make a POST request, set the new URL, add &ldquo;Douglas&rdquo; to the body, and specify the header:</p><p><img alt="Bye Test" loading=lazy src=/images/lambda-multi-function/bye-test.png></p><p><img alt="Hello Test" loading=lazy src=/images/lambda-multi-function/hello-test.png></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>And there you go!</p><p>If you weren’t familiar with this setup before, now you definitely are!</p><p>Jokes aside, this is a significant step forward in using Lambdas with Spring Cloud Function. It took me a couple of weeks to figure out the best way to do this properly, and I hadn’t found such an easy solution online until I did. Now, you don’t have to go through the same trial and error.</p><p>If you have questions or want to share your experience, feel free to reach out to me on <a href=https://www.linkedin.com/in/douglas-rocha-leite><strong>LinkedIn</strong></a>. There, I share more insights on software development and productivity.</p><h3 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h3><ol><li><p><a href=https://docs.spring.io/spring-cloud-function/docs/current/reference/html/>Spring Cloud Function Documentation</a><br>The official documentation for Spring Cloud Function.</p></li><li><p><a href=https://docs.aws.amazon.com/lambda/latest/dg/>AWS Lambda Documentation</a><br>The official documentation for AWS Lambda.</p></li><li><p><a href="https://www.youtube.com/watch?v=gj1DDymw5iY&amp;ab_channel=DanVega">Serverless Spring: Deploy serverless functions to any platform using Spring Cloud Function</a><br>A YouTube tutorial that helped me get started with this setup</p></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://douglas-rocha-dev.vercel.app/tags/java/>Java</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/spring/>Spring</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/spring-boot/>Spring Boot</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/spring-cloud-function/>Spring Cloud Function</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/aws/>AWS</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/cloud/>Cloud</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/lambda/>Lambda</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://douglas-rocha-dev.vercel.app/>DouglasDev</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>