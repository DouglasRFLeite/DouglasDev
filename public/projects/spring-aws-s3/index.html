<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tutorial - Spring Boot & AWS S3 for Image Storing | DouglasDev</title>
<meta name=keywords content="Java,Spring,Spring Boot,AWS,Cloud,S3"><meta name=description content="A tutorial on how I created a Spring Boot application to store and retrieve images from an AWS S3 Bucket"><meta name=author content="Douglas"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.eb010bce980c6450595d968d3d88ebc4a8b3750ec5bb5cbdef57d4f2f642da6f.css integrity="sha256-6wELzpgMZFBZXZaNPYjrxKizdQ7Fu1y971fU8vZC2m8=" rel="preload stylesheet" as=style><link rel=icon href=https://douglas-rocha-dev.vercel.app/images/code-icon.png><link rel=icon type=image/png sizes=16x16 href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://douglas-rocha-dev.vercel.app/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://douglas-rocha-dev.vercel.app/projects/spring-aws-s3/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://douglas-rocha-dev.vercel.app/projects/spring-aws-s3/"><meta property="og:site_name" content="DouglasDev"><meta property="og:title" content="Tutorial - Spring Boot & AWS S3 for Image Storing"><meta property="og:description" content="A tutorial on how I created a Spring Boot application to store and retrieve images from an AWS S3 Bucket"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:published_time" content="2025-03-16T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-16T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Spring"><meta property="article:tag" content="Spring Boot"><meta property="article:tag" content="AWS"><meta property="article:tag" content="Cloud"><meta property="article:tag" content="S3"><meta property="og:image" content="https://douglas-rocha-dev.vercel.app/images/cool-setup-007.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://douglas-rocha-dev.vercel.app/images/cool-setup-007.jpg"><meta name=twitter:title content="Tutorial - Spring Boot & AWS S3 for Image Storing"><meta name=twitter:description content="A tutorial on how I created a Spring Boot application to store and retrieve images from an AWS S3 Bucket"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://douglas-rocha-dev.vercel.app/projects/"},{"@type":"ListItem","position":2,"name":"Tutorial - Spring Boot \u0026 AWS S3 for Image Storing","item":"https://douglas-rocha-dev.vercel.app/projects/spring-aws-s3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Tutorial - Spring Boot \u0026 AWS S3 for Image Storing","name":"Tutorial - Spring Boot \u0026 AWS S3 for Image Storing","description":"A tutorial on how I created a Spring Boot application to store and retrieve images from an AWS S3 Bucket","keywords":["Java","Spring","Spring Boot","AWS","Cloud","S3"],"articleBody":"So… my wife was busy on a Sunday afternoon. Do you know what that means? Yeah… It means I’m going to code my a*s off.\nI’ve been wanting to start playing with AWS for some time now, and this week I thought of an interesting use for AWS S3 at work and wanted to test it out.\nThe idea is to store and retrieve images on S3 using a Spring Boot application.\nWhat is AWS S3? I really don’t want to get into too much detail here; the purpose of this article is to showcase this project and give you a step-by-step tutorial on how to replicate it yourself.\nBut S3 is one of AWS’s many cloud storage services, designed specifically to store simple files, like an actual file system. In this tutorial, I’m storing files in the root, so I really won’t get into much more detail than that. But you can check some of the references if you want more information.\nDisclaimer! I’ve just mentioned that I’m new to cloud and AWS, so pardon me if I said anything stupid.\nWhat is Spring Boot? Again, I don’t want to get into too much detail, and I assume that if you’re here, you’ve probably heard of Spring.\nBut, again, Spring Boot is a Java framework (let’s not get into too many details, folks) that quickens the initialization and growth of complex Java applications. Here, specifically, I only use Spring Core (obviously) and Spring Web for the API.\nPrerequisites If you want to follow me through every step of this project, you are probably going to need:\nJava 17+ (installed on your machine or environment) Visual Studio Code (to be referenced as VSCode) or any other IDE Internet connection That’s about it. Spring is a Java dependency, so you don’t need to download it separately.\nStep 1 - Creating your AWS S3 Bucket 1.1 - Create your account First of all, you should access the AWS Console and create a free account.\nI’m not going into detail on this step, but it does take some time, so do it carefully. I created a free account, but if you’re Elon Musk’s son, you may want to go ahead and create a paid one.\n1.2 - Create your S3 Bucket After successfully logging in, you should be redirected to the actual AWS Console.\nIt should look like this if this is your first time on it:\nFirst of all, I would recommend you change the region in the upper right corner to the closest one to you. I forgot to do it the first time and had simple requests take a couple of seconds to return.\nNow go to the search bar and type “S3” - or look for it in the menu if you have more time (or just click here). Access the S3 page.\nYou can see I have a weirdly named and incorrectly set region bucket created there. The idea of you following this tutorial is that you don’t go through that as I did, hehe.\nCreate a bucket.\nYou will need to provide a unique name. Do that as you wish, but it can’t be:\nimage-storage-and-retrieval-s3-test-douglas\nYou can leave absolutely everything else as default and click Create bucket at the bottom of the page.\nYou should be back at the S3 Console page. If you click on your bucket’s name, you can look around its specific console and play with it. You can even start storing stuff. But for the purpose of this tutorial, you just need to remember its name.\n1.3 - Create your Amazon User Now we will access the Identity and Access Management (IAM) Dashboard. Type IAM in the search bar and click the link (or click here). You should see something like this:\nOn the menu on your left, choose “Users.” Then click “Create User,” type a username (any one), and click “Next.”\nOn the “Set permissions” page, choose the option to your right: “Attach policies directly,” like so:\nYou will see a big list of permissions show up at the bottom of the page. Type “AmazonS3FullAccess” and check that.\nClick “Next,” review everything, and click “Create User.” You will be back at the list of your users. Click on the one you’ve just created to see a details screen for that user.\nOnce there, you should find the option to “Create Access Key” and click it.\nAt this point, if you’re just doing all of this to follow this tutorial and learn as I did, you can just click on “Local Code” and you’re good to go. Otherwise, examine all of the options and choose what’s best for you.\nAfter a couple more “Next” clicks, you should see a screen like this:\nCopy these keys. Print the screen. Do something with them. I turned them into environment variables right away so I could use them in my code, but do as you wish.\nStep 2 - Creating your Spring Boot Application 2.1 - Create a Project with Spring Initializr I use the Spring Initializr via the Spring Boot Extension Pack on VSCode. You can always do it via the web, create your project, and unzip it to start coding. But what you’re going to do is:\nCreate a Maven project Spring Boot Version 3.4.3 Java Name it as you wish I’ve used Java 17 and JAR packaging You’ll add dependencies: Spring Web, Spring Boot Dev Tools (optional), Lombok (optional) And you’re good to go. Or almost. Just go to your pom.xml file and add this dependency:\ncom.amazonaws aws-java-sdk-s3 1.12.182 Now you’re good to go. You can even run your code to check if everything works fine.\n2.2 Create Your S3Config File The first file we’re going to create is S3Config.java. In this file, we will create a Bean method. That way, when Spring starts, it will run that method once and store the result so that every time I request an object of that class, it will provide it to me.\n@Configuration public class S3Config { @Bean public AmazonS3 amazonS3() { BasicAWSCredentials awsCredentials = new BasicAWSCredentials( // System.getenv(\"AWS_ACCESS_KEY_ID\"), // System.getenv(\"AWS_SECRET_ACCESS_KEY\")); return AmazonS3ClientBuilder // .standard() // .withRegion(System.getenv(\"AWS_REGION\")) // .withCredentials(new AWSStaticCredentialsProvider(awsCredentials)) // .build(); } } As I mentioned, I turned the credentials into environment variables, but you can just paste them here if you prefer.\n2.3 Create Your S3Service File The S3Service.java file will be responsible for adapting images from one place to another. That is, it will take an image, store it, and retrieve an image from storage when requested.\nHere, you will have access to the amazonS3 object as if it were a repository. You will also store the bucket information.\n@Service public class S3Service { @Autowired private AmazonS3 amazonS3; private final String bucketName = \"image-storage-and-retrieval-s3-test-douglas\"; public byte[] getImage(String fileName) throws IOException { S3Object s3Object = amazonS3.getObject(bucketName, fileName); try (S3ObjectInputStream objectInputStream = s3Object.getObjectContent()) { return IOUtils.toByteArray(objectInputStream); } } public String uploadImage(MultipartFile file) throws IOException { File tempFile = convertMultiPartFileToFile(file); amazonS3.putObject(bucketName, file.getOriginalFilename(), tempFile); tempFile.delete(); return \"Image loaded successfully: \" + file.getOriginalFilename(); } private File convertMultiPartFileToFile(MultipartFile file) throws IOException { File tempFile = new File(file.getOriginalFilename()); try (FileOutputStream fos = new FileOutputStream(tempFile)) { fos.write(file.getBytes()); } return tempFile; } } Here, I decided to use multipart communication, but you can probably do it differently. The purpose of this tutorial is to connect to S3, so I didn’t focus much on that.\n2.4 Create Your S3Controller to Access It Externally Writing this, I remembered when I was in university, and we created little terminal menus to access the software’s functions. Teachers would have done us a great favor if they had taught us how to do it with APIs instead, but sure…\nLet’s go. Here you have three options:\nCreate the GET method and upload your images via the S3 Console. Create the POST method and check if they’re available in the S3 Console. Create both GET and POST methods. All three options will give you a Spring Boot application that connects with an S3 bucket, but I will do the third.\n@RestController @RequestMapping() public class S3Controller { @Autowired private S3Service s3Service; @GetMapping(\"/image/{fileName}\") public ResponseEntity getImage(@PathVariable String fileName) throws IOException { byte[] imageBytes = s3Service.getImage(fileName); HttpHeaders headers = new HttpHeaders(); headers.setContentType(MediaType.IMAGE_JPEG); return ResponseEntity.ok() .headers(headers) .body(imageBytes); } @PostMapping(\"/upload\") public String uploadImage(@RequestParam(\"file\") MultipartFile file) { try { return s3Service.uploadImage(file); } catch (Exception e) { e.printStackTrace(); return \"Erro no upload da imagem!\"; } } } You can change the mapping if you want… I really don’t care much.\n“Your code is wrong! What if the image is not JPEG?”\nYou can fetch the metadata from the bucket, but I only tested it with JPEG images, so I didn’t care.\nYour code should be running smoothly by now.\nStep 3 - Test Your Application Yeah, so… who knows if I lied and nothing is working? You’d be pretty mad at me for the lost time if that were the case, wouldn’t you? So let’s actually test it out.\n3.1 - Store an Image First, you need an image to store. I love Pokémon, so this will be my image:\nNow, you need something to make a POST request to your application. Can you create another application just to do that? Sure. Can you use Curl? Sure. I’m lazy, so I’m using Postman’s VSCode extension.\nOn the “New HTTP Request” page, you should change the method to POST, go to the Body section, and choose form-data. Add a new key file, set its type to File, and select your file. Now just hit Send. It will look like this:\nIf you now go back to your S3 Console, you should see it there like this:\n3.2 Retrieve an Image Now, we’re going to retrieve that image via the GET method.\nYou can, if you want, make that GET request with Postman. But I just love Google Chrome, so I want to see the image in the browser:\nConclusion There you go!\nNow you can say you’re an expert in Cloud, Data Storage, and Spring + AWS integration (I sure will).\nJokes aside, I’m glad to have had my first real contact with Amazon AWS using Spring. And I am also very happy to share this with all of you.\nThat said, I did use Spring, but you could just as well instantiate every class in your main method and use plain Java. You can even take advantage of the AWS setup part and develop your application with Python. Feel free to experiment.\nIf you have any questions or want to leave any comments, I recommend reaching out to me on LinkedIn.. There, I also share more insights, software development, and productivity content.\nReferences Spring Boot Documentation https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/ The official Spring Boot documentation for configuration, service layers, and REST controllers.\nAWS SDK for Java https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/welcome.html The official AWS SDK documentation for working with S3 and other AWS services in Java.\nAmazon S3 Documentation https://docs.aws.amazon.com/s3/index.html Official documentation for working with Amazon S3, including best practices and API references.\n","wordCount":"1825","inLanguage":"en","image":"https://douglas-rocha-dev.vercel.app/images/cool-setup-007.jpg","datePublished":"2025-03-16T00:00:00Z","dateModified":"2025-03-16T00:00:00Z","author":{"@type":"Person","name":"Douglas"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://douglas-rocha-dev.vercel.app/projects/spring-aws-s3/"},"publisher":{"@type":"Organization","name":"DouglasDev","logo":{"@type":"ImageObject","url":"https://douglas-rocha-dev.vercel.app/images/code-icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://douglas-rocha-dev.vercel.app/ accesskey=h title="Home (Alt + H)"><img src=https://douglas-rocha-dev.vercel.app/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://douglas-rocha-dev.vercel.app/about/ title=About><span>About</span></a></li><li><a href=https://douglas-rocha-dev.vercel.app/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://douglas-rocha-dev.vercel.app/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://douglas-rocha-dev.vercel.app/contact/ title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://douglas-rocha-dev.vercel.app/>Home</a>&nbsp;»&nbsp;<a href=https://douglas-rocha-dev.vercel.app/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">Tutorial - Spring Boot & AWS S3 for Image Storing</h1><div class=post-description>A tutorial on how I created a Spring Boot application to store and retrieve images from an AWS S3 Bucket</div><div class=post-meta><span title='2025-03-16 00:00:00 +0000 UTC'>March 16, 2025</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;1825 words&nbsp;·&nbsp;Douglas</div></header><figure class=entry-cover><img loading=eager src=https://douglas-rocha-dev.vercel.app/images/cool-setup-007.jpg alt="Cool Setup"><p>Unfortunately not my setup</p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#what-is-aws-s3>What is AWS S3?</a></li><li><a href=#what-is-spring-boot>What is Spring Boot?</a></li><li><a href=#prerequisites>Prerequisites</a></li></ul></li><li><a href=#step-1---creating-your-aws-s3-bucket>Step 1 - Creating your AWS S3 Bucket</a><ul><li><a href=#11---create-your-account>1.1 - Create your account</a></li><li><a href=#12---create-your-s3-bucket>1.2 - Create your S3 Bucket</a></li><li><a href=#13---create-your-amazon-user>1.3 - Create your Amazon User</a></li></ul></li><li><a href=#step-2---creating-your-spring-boot-application>Step 2 - Creating your Spring Boot Application</a><ul><li><a href=#21---create-a-project-with-spring-initializr>2.1 - Create a Project with Spring Initializr</a></li><li><a href=#22-create-your-s3config-file>2.2 Create Your S3Config File</a></li><li><a href=#23-create-your-s3service-file>2.3 Create Your S3Service File</a></li><li><a href=#24-create-your-s3controller-to-access-it-externally>2.4 Create Your S3Controller to Access It Externally</a></li></ul></li><li><a href=#step-3---test-your-application>Step 3 - Test Your Application</a><ul><li><a href=#31---store-an-image>3.1 - Store an Image</a></li><li><a href=#32-retrieve-an-image>3.2 Retrieve an Image</a></li></ul></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#references>References</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>So&mldr; my wife was busy on a Sunday afternoon. Do you know what that means? Yeah&mldr; It means I&rsquo;m going to code my a*s off.</p><p>I&rsquo;ve been wanting to start playing with AWS for some time now, and this week I thought of an interesting use for AWS S3 at work and wanted to test it out.</p><p>The idea is to store and retrieve images on S3 using a Spring Boot application.</p><h3 id=what-is-aws-s3>What is AWS S3?<a hidden class=anchor aria-hidden=true href=#what-is-aws-s3>#</a></h3><p>I really don&rsquo;t want to get into too much detail here; the purpose of this article is to showcase this project and give you a step-by-step tutorial on how to replicate it yourself.</p><p>But S3 is one of AWS&rsquo;s many cloud storage services, designed specifically to store simple files, like an actual file system. In this tutorial, I&rsquo;m storing files in the root, so I really won&rsquo;t get into much more detail than that. But you can check some of the references if you want more information.</p><p><strong>Disclaimer!</strong> I&rsquo;ve just mentioned that I&rsquo;m new to cloud and AWS, so pardon me if I said anything stupid.</p><h3 id=what-is-spring-boot>What is Spring Boot?<a hidden class=anchor aria-hidden=true href=#what-is-spring-boot>#</a></h3><p>Again, I don&rsquo;t want to get into too much detail, and I assume that if you&rsquo;re here, you&rsquo;ve probably heard of Spring.</p><p>But, again, Spring Boot is a Java framework (let&rsquo;s not get into too many details, folks) that quickens the initialization and growth of complex Java applications. Here, specifically, I only use Spring Core (obviously) and Spring Web for the API.</p><h3 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h3><p>If you want to follow me through every step of this project, you are probably going to need:</p><ul><li>Java 17+ (installed on your machine or environment)</li><li>Visual Studio Code (to be referenced as VSCode) or any other IDE</li><li>Internet connection</li></ul><p>That&rsquo;s about it. Spring is a Java dependency, so you don&rsquo;t need to download it separately.</p><h2 id=step-1---creating-your-aws-s3-bucket>Step 1 - Creating your AWS S3 Bucket<a hidden class=anchor aria-hidden=true href=#step-1---creating-your-aws-s3-bucket>#</a></h2><h3 id=11---create-your-account>1.1 - Create your account<a hidden class=anchor aria-hidden=true href=#11---create-your-account>#</a></h3><p>First of all, you should access the <a href=https://aws.amazon.com/console/><strong>AWS Console</strong></a> and create a free account.</p><p>I&rsquo;m not going into detail on this step, but it does take some time, so do it carefully. I created a free account, but if you&rsquo;re Elon Musk&rsquo;s son, you may want to go ahead and create a paid one.</p><h3 id=12---create-your-s3-bucket>1.2 - Create your S3 Bucket<a hidden class=anchor aria-hidden=true href=#12---create-your-s3-bucket>#</a></h3><p>After successfully logging in, you should be redirected to the actual AWS Console.</p><p>It should look like this if this is your first time on it:</p><p><img alt="AWS Console" loading=lazy src=/images/spring-aws-s3/aws-console.png></p><p>First of all, I would recommend you change the region in the upper right corner to the closest one to you. I forgot to do it the first time and had simple requests take a couple of seconds to return.</p><p>Now go to the search bar and type &ldquo;S3&rdquo; - or look for it in the menu if you have more time (or just click <a href=https://sa-east-1.console.aws.amazon.com/s3/home>here</a>). Access the S3 page.</p><p><img alt="AWS S3 Console" loading=lazy src=/images/spring-aws-s3/s3-page.png></p><p>You can see I have a weirdly named and incorrectly set region bucket created there. The idea of you following this tutorial is that you don&rsquo;t go through that as I did, hehe.</p><p>Create a bucket.</p><p>You will need to provide a unique name. Do that as you wish, but it can&rsquo;t be:</p><p><code>image-storage-and-retrieval-s3-test-douglas</code></p><p>You can leave absolutely everything else as default and click <strong>Create bucket</strong> at the bottom of the page.</p><p>You should be back at the S3 Console page. If you click on your bucket&rsquo;s name, you can look around its specific console and play with it. You can even start storing stuff. But for the purpose of this tutorial, you just need to remember its name.</p><h3 id=13---create-your-amazon-user>1.3 - Create your Amazon User<a hidden class=anchor aria-hidden=true href=#13---create-your-amazon-user>#</a></h3><p>Now we will access the <strong>Identity and Access Management (IAM)</strong> Dashboard. Type IAM in the search bar and click the link (or click <a href=https://us-east-1.console.aws.amazon.com/iam/home>here</a>). You should see something like this:</p><p><img alt="IAM Console" loading=lazy src=/images/spring-aws-s3/iam-dashboard.png></p><p>On the menu on your left, choose &ldquo;Users.&rdquo; Then click &ldquo;Create User,&rdquo; type a username (any one), and click &ldquo;Next.&rdquo;</p><p>On the &ldquo;Set permissions&rdquo; page, choose the option to your right: &ldquo;Attach policies directly,&rdquo; like so:</p><p><img alt="User Permissions" loading=lazy src=/images/spring-aws-s3/user-permissions.png></p><p>You will see a big list of permissions show up at the bottom of the page. Type &ldquo;<strong>AmazonS3FullAccess</strong>&rdquo; and check that.</p><p><img alt=AmazonS3FullAccess loading=lazy src=/images/spring-aws-s3/s3-full-access.png></p><p>Click &ldquo;Next,&rdquo; review everything, and click &ldquo;Create User.&rdquo; You will be back at the list of your users. Click on the one you&rsquo;ve just created to see a details screen for that user.</p><p>Once there, you should find the option to &ldquo;Create Access Key&rdquo; and click it.</p><p><img alt="Create Access Key" loading=lazy src=/images/spring-aws-s3/create-access-key.png></p><p>At this point, if you&rsquo;re just doing all of this to follow this tutorial and learn as I did, you can just click on &ldquo;Local Code&rdquo; and you&rsquo;re good to go. Otherwise, examine all of the options and choose what&rsquo;s best for you.</p><p>After a couple more &ldquo;Next&rdquo; clicks, you should see a screen like this:</p><p><img alt=Keys loading=lazy src=/images/spring-aws-s3/keys.png></p><p>Copy these keys. Print the screen. Do something with them. I turned them into environment variables right away so I could use them in my code, but do as you wish.</p><h2 id=step-2---creating-your-spring-boot-application>Step 2 - Creating your Spring Boot Application<a hidden class=anchor aria-hidden=true href=#step-2---creating-your-spring-boot-application>#</a></h2><h3 id=21---create-a-project-with-spring-initializr>2.1 - Create a Project with Spring Initializr<a hidden class=anchor aria-hidden=true href=#21---create-a-project-with-spring-initializr>#</a></h3><p>I use the Spring Initializr via the Spring Boot Extension Pack on VSCode. You can always do it via the web, create your project, and unzip it to start coding. But what you&rsquo;re going to do is:</p><ol><li>Create a Maven project</li><li>Spring Boot Version 3.4.3</li><li>Java</li><li>Name it as you wish</li><li>I&rsquo;ve used Java 17 and JAR packaging</li><li>You&rsquo;ll add dependencies: Spring Web, Spring Boot Dev Tools (optional), Lombok (optional)</li></ol><p>And you&rsquo;re good to go. Or almost. Just go to your <code>pom.xml</code> file and add this dependency:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;dependency&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;groupId&gt;</span>com.amazonaws<span class=nt>&lt;/groupId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifactId&gt;</span>aws-java-sdk-s3<span class=nt>&lt;/artifactId&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>1.12.182<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>Now you&rsquo;re good to go. You can even run your code to check if everything works fine.</p><h3 id=22-create-your-s3config-file>2.2 Create Your S3Config File<a hidden class=anchor aria-hidden=true href=#22-create-your-s3config-file>#</a></h3><p>The first file we&rsquo;re going to create is <code>S3Config.java</code>. In this file, we will create a <code>Bean</code> method. That way, when Spring starts, it will run that method once and store the result so that every time I request an object of that class, it will provide it to me.</p><pre tabindex=0><code>@Configuration
public class S3Config {

    @Bean
    public AmazonS3 amazonS3() {
        BasicAWSCredentials awsCredentials = new BasicAWSCredentials( //
                System.getenv(&#34;AWS_ACCESS_KEY_ID&#34;), //
                System.getenv(&#34;AWS_SECRET_ACCESS_KEY&#34;));

        return AmazonS3ClientBuilder //
                .standard() //
                .withRegion(System.getenv(&#34;AWS_REGION&#34;)) //
                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials)) //
                .build();
    }
}
</code></pre><p>As I mentioned, I turned the credentials into environment variables, but you can just paste them here if you prefer.</p><h3 id=23-create-your-s3service-file>2.3 Create Your S3Service File<a hidden class=anchor aria-hidden=true href=#23-create-your-s3service-file>#</a></h3><p>The <code>S3Service.java</code> file will be responsible for adapting images from one place to another. That is, it will take an image, store it, and retrieve an image from storage when requested.</p><p>Here, you will have access to the <code>amazonS3</code> object as if it were a repository. You will also store the bucket information.</p><pre tabindex=0><code>@Service
public class S3Service {

    @Autowired
    private AmazonS3 amazonS3;
    private final String bucketName = &#34;image-storage-and-retrieval-s3-test-douglas&#34;;

    public byte[] getImage(String fileName) throws IOException {
        S3Object s3Object = amazonS3.getObject(bucketName, fileName);
        try (S3ObjectInputStream objectInputStream = s3Object.getObjectContent()) {
            return IOUtils.toByteArray(objectInputStream);
        }
    }

    public String uploadImage(MultipartFile file) throws IOException {
        File tempFile = convertMultiPartFileToFile(file);
        amazonS3.putObject(bucketName, file.getOriginalFilename(), tempFile);
        tempFile.delete();
        return &#34;Image loaded successfully: &#34; + file.getOriginalFilename();
    }

    private File convertMultiPartFileToFile(MultipartFile file) throws IOException {
        File tempFile = new File(file.getOriginalFilename());
        try (FileOutputStream fos = new FileOutputStream(tempFile)) {
            fos.write(file.getBytes());
        }
        return tempFile;
    }
}
</code></pre><p>Here, I decided to use multipart communication, but you can probably do it differently. The purpose of this tutorial is to connect to S3, so I didn’t focus much on that.</p><h3 id=24-create-your-s3controller-to-access-it-externally>2.4 Create Your S3Controller to Access It Externally<a hidden class=anchor aria-hidden=true href=#24-create-your-s3controller-to-access-it-externally>#</a></h3><p>Writing this, I remembered when I was in university, and we created little terminal menus to access the software’s functions. Teachers would have done us a great favor if they had taught us how to do it with APIs instead, but sure&mldr;</p><p>Let’s go. Here you have three options:</p><ol><li>Create the GET method and upload your images via the S3 Console.</li><li>Create the POST method and check if they’re available in the S3 Console.</li><li>Create both GET and POST methods.</li></ol><p>All three options will give you a Spring Boot application that connects with an S3 bucket, but I will do the third.</p><pre tabindex=0><code>@RestController
@RequestMapping()
public class S3Controller {
    @Autowired
    private S3Service s3Service;

    @GetMapping(&#34;/image/{fileName}&#34;)
    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String fileName) throws IOException {
        byte[] imageBytes = s3Service.getImage(fileName);
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.IMAGE_JPEG);

        return ResponseEntity.ok()
                .headers(headers)
                .body(imageBytes);
    }

    @PostMapping(&#34;/upload&#34;)
    public String uploadImage(@RequestParam(&#34;file&#34;) MultipartFile file) {
        try {
            return s3Service.uploadImage(file);
        } catch (Exception e) {
            e.printStackTrace();
            return &#34;Erro no upload da imagem!&#34;;
        }
    }
}
</code></pre><p>You can change the mapping if you want&mldr; I really don’t care much.</p><p><em>&ldquo;Your code is wrong! What if the image is not JPEG?&rdquo;</em></p><p>You can fetch the metadata from the bucket, but I only tested it with JPEG images, so I didn’t care.</p><p>Your code should be running smoothly by now.</p><h2 id=step-3---test-your-application>Step 3 - Test Your Application<a hidden class=anchor aria-hidden=true href=#step-3---test-your-application>#</a></h2><p>Yeah, so&mldr; who knows if I lied and nothing is working? You’d be pretty mad at me for the lost time if that were the case, wouldn’t you? So let’s actually test it out.</p><h3 id=31---store-an-image>3.1 - Store an Image<a hidden class=anchor aria-hidden=true href=#31---store-an-image>#</a></h3><p>First, you need an image to store. I love Pokémon, so this will be my image:</p><p><img alt=Pikachu loading=lazy src=/images/spring-aws-s3/pikachu.jpg></p><p>Now, you need something to make a POST request to your application. Can you create another application just to do that? Sure. Can you use Curl? Sure. I&rsquo;m lazy, so I’m using Postman’s VSCode extension.</p><p>On the &ldquo;New HTTP Request&rdquo; page, you should change the method to <strong>POST</strong>, go to the <strong>Body</strong> section, and choose <strong>form-data</strong>. Add a new key <strong>file</strong>, set its type to <strong>File</strong>, and select your file. Now just hit <strong>Send</strong>. It will look like this:</p><p><img alt="VSCode Postman" loading=lazy src=/images/spring-aws-s3/vscode-postman.png></p><p>If you now go back to your S3 Console, you should see it there like this:</p><p><img alt="S3 Console with data" loading=lazy src=/images/spring-aws-s3/s3-console-pikachu.png></p><h3 id=32-retrieve-an-image>3.2 Retrieve an Image<a hidden class=anchor aria-hidden=true href=#32-retrieve-an-image>#</a></h3><p>Now, we’re going to retrieve that image via the GET method.</p><p>You can, if you want, make that GET request with Postman. But I just love Google Chrome, so I want to see the image in the browser:</p><p><img alt="Pikachu showing on browser" loading=lazy src=/images/spring-aws-s3/pikachu-browser.png></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>There you go!</p><p>Now you can say you’re an expert in Cloud, Data Storage, and Spring + AWS integration (I sure will).</p><p>Jokes aside, I’m glad to have had my first real contact with Amazon AWS using Spring. And I am also very happy to share this with all of you.</p><p>That said, I did use Spring, but you could just as well instantiate every class in your main method and use plain Java. You can even take advantage of the AWS setup part and develop your application with Python. Feel free to experiment.</p><p>If you have any questions or want to leave any comments, I recommend reaching out to me on <a href=https://www.linkedin.com/in/douglas-rocha-leite><strong>LinkedIn.</strong></a>. There, I also share more insights, software development, and productivity content.</p><h3 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h3><ol><li><p>Spring Boot Documentation
<a href=https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/>https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/</a>
The official Spring Boot documentation for configuration, service layers, and REST controllers.</p></li><li><p>AWS SDK for Java
<a href=https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/welcome.html>https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/welcome.html</a>
The official AWS SDK documentation for working with S3 and other AWS services in Java.</p></li><li><p>Amazon S3 Documentation
<a href=https://docs.aws.amazon.com/s3/index.html>https://docs.aws.amazon.com/s3/index.html</a>
Official documentation for working with Amazon S3, including best practices and API references.</p></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://douglas-rocha-dev.vercel.app/tags/java/>Java</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/spring/>Spring</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/spring-boot/>Spring Boot</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/aws/>AWS</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/cloud/>Cloud</a></li><li><a href=https://douglas-rocha-dev.vercel.app/tags/s3/>S3</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://douglas-rocha-dev.vercel.app/>DouglasDev</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>